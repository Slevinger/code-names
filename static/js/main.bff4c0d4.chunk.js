(this["webpackJsonpcode-names"]=this["webpackJsonpcode-names"]||[]).push([[0],{100:function(e,n,t){},137:function(e,n){},140:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(20),o=t.n(c),i=(t(82),t(83),t(68)),l=t.n(i),u=("http://localhost:".concat(3e3),"https://tranquil-ocean-97712.herokuapp.com/"),s=l.a.create({baseURL:u}),m=(t(100),t(4)),d=t(5),f=t(15),p=t(72),g=t.n(p);function b(){var e=Object(m.a)(["\n  flex: 1;\n  border-right: 1px solid rgba(0, 0, 0, 0.2);\n  .player {\n    flex-direction: row;\n    display: flex;\n    line-height: 1.4rem;\n    padding: 10px;\n  }\n  .player-name {\n    flex: 1;\n  }\n  h1 {\n    text-align: center;\n  }\n"]);return b=function(){return e},e}var v=d.b.div(b()),h=function(e){var n=e.nickname,t=e.isReady;Object(f.a)(e,["nickname","isReady"]);return r.a.createElement("div",{className:"player"},r.a.createElement("div",{className:"player-name"},n),t&&r.a.createElement(g.a,{style:{color:"green"}}))},y=function(e){var n=e.players;return r.a.createElement(v,null,r.a.createElement("h1",null,"Players"),n.map((function(e){return r.a.createElement(h,e)})))},x=t(14),j=t(10),O=t(159),E=t(160);t(106);function k(){var e=Object(m.a)(["\n        opacity: 0.7;\n        pointer-events: none;\n      "]);return k=function(){return e},e}function w(){var e=Object(m.a)(["\n  width: 200px;\n  height: 100px;\n  border: 1px solid;\n  flex-direction: column;\n  display: flex;\n  margin: 5px;\n  text-align: center;\n  align-items: center;\n\n  button {\n    padding: 10px;\n    font-size: 20px;\n    ",";\n  }\n"]);return w=function(){return e},e}var C=d.b.div(w(),(function(e){return!e.readyToStart&&Object(d.a)(k())})),I=function(e){var n=e.teamColor,t=e.isReady,c=e.toggleReady,o=e.startGame,i=e.game,l=Object(f.a)(e,["teamColor","isReady","toggleReady","startGame","game"]),u=Object(a.useMemo)((function(){var e=i.players;return 0===Object.values(e).filter((function(e){return!e.isReady})).length}),[i.players]),s=Object(a.useMemo)((function(){var e=i.players,n=i.teams,t=Object.keys(n).reduce((function(e,n){return Object(j.a)({},e,Object(x.a)({},n,!1))}),{});return Object.values(e).forEach((function(e){e.teamColor&&e.isHinter&&(t[e.teamColor]=!0)})),Object.values(t).reduce((function(e,n){return e&&n}),!0)}),[i.players,i.teams]),m=Object(a.useMemo)((function(){i.players;var e=i.teams;return Object.keys(e).reduce((function(n,t){return n&&e[t].players.length>0}),!0)}),[i.players]),d=u&&m&&s;return r.a.createElement(C,{readyToStart:d},r.a.createElement(E.a,{control:r.a.createElement(O.a,{checked:t,disabled:!n,onChange:function(){c(l.nickname)}}),label:"Ready"}),r.a.createElement("button",{onClick:function(){console.log("start game"),o&&o()}},"start"))};function G(){var e=Object(m.a)(["\n  width: 60%;\n  height: 400px;\n  border: 1px solid black;\n  display: flex;\n  flex-direction: row;\n  div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  .red-team {\n    background-color: rgba(100, 0, 0, 0.5);\n  }\n  .blue-team {\n    background-color: rgba(0, 0, 100, 0.5);\n  }\n\n  .guesser {\n    flex: 2;\n    position: relative;\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.2);\n      cursor: pointer;\n    }\n  }\n  .hinter {\n    flex: 1;\n    position: relative;\n    background-color: rgba(0, 0, 0, 0.2);\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.1);\n      cursor: pointer;\n    }\n  }\n"]);return G=function(){return e},e}var N=d.b.div(G()),R=function(e){var n=e.title;Object(f.a)(e,["title"]);return r.a.createElement("div",{className:"bg-title"},n)},S=function(e){var n=e.chooseTeam,t=e.state,c=e.togglePlayerReady,o=e.startGame,i=e.leaveGame,l=t.players,u=t.nickname,s=l[u],m=Object(a.useMemo)((function(){return Object.values(l).filter((function(e){return e.teamColor})).reduce((function(e,n){return e[n.teamColor][n.isHinter?"hinters":"guessers"].push(n.nickname),e}),{red:{hinters:[],guessers:[]},blue:{hinters:[],guessers:[]}})}),[l]);return r.a.createElement("div",{className:"room-content"},r.a.createElement(N,null,r.a.createElement("div",{className:"blue-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("blue","guesser")}},r.a.createElement(R,{title:"GUESSERS"}),m.blue.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("blue","hinter")}},r.a.createElement(R,{title:"HINTERS"}),m.blue.hinters.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("div",{className:"red-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("red","guesser")}},r.a.createElement(R,{title:"GUESSERS"}),m.red.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("red","hinter")}},r.a.createElement(R,{title:"HINTERS"}),m.red.hinters.map((function(e){return r.a.createElement("div",null,e)}))))),r.a.createElement(I,Object.assign({},s,{game:t,toggleReady:c,startGame:o})),r.a.createElement("button",{onClick:function(){i(t.gameId)}},"logout"))};function T(){var e=Object(m.a)(["\n      background-color: ",";\n      width: ","%;\n    "]);return T=function(){return e},e}function M(){var e=Object(m.a)(["\n  position: relative;\n  height: 100%;\n  ","\n"]);return M=function(){return e},e}function z(){var e=Object(m.a)(["\n  position: relative;\n  width: 60%;\n  height: 25px;\n  background-color: white;\n  border: 1px solid;\n  .word {\n    position: absolute;\n    z-index: 1;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n  }\n"]);return z=function(){return e},e}function q(){var e=Object(m.a)(["\n        pointer-events: hover;\n      "]);return q=function(){return e},e}function H(){var e=Object(m.a)(["\n  background-color: ",";\n  width: 200px;\n  height: 100px;\n  border-radius: 14px;\n  border: solid thin;\n  flex-direction: column;\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ","\n  &:hover {\n    cursor: pointer;\n    background-color: lightgrey;\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(m.a)(["\n  display: block;\n  width: 1200px;\n  height: 550px;\n  flex-wrap: wrap;\n  flex-direction: row;\n  display: flex;\n  justify-content: center;\n"]);return U=function(){return e},e}var W=d.b.div(U()),P=d.b.div(H(),(function(e){var n=e.showColor,t=e.color;return n?t:"rgba(0,0,0,0.2)"}),(function(e){return e.disabled&&Object(d.a)(q())})),Q=d.b.div(z()),J=d.b.div(M(),(function(e){var n=e.teamColor,t=e.flipTeam,a=e.clickCount,r=e.playersCount,c="white",o=100;return t?c=t:a>0&&(c=n,o=Math.round(a/r*100)),Object(d.a)(T(),c,o)})),V=function(e){var n=e.indexes,t=e.onClick,a=e.teamColor,c=Object(f.a)(e,["indexes","onClick","teamColor"]);return r.a.createElement(P,Object.assign({key:n},c,{onClick:t}),r.a.createElement(Q,c,r.a.createElement("div",{className:"word"},c.word),r.a.createElement(J,Object.assign({teamColor:a},c))))},B=function(e){var n=e.state,t=e.cellSelected,a=n.board,c=n.whosTurn,o=n.teams,i=n.players,l=n.numberOfWords,u=n.player;if(!u||!u.nickname)return null;var s=c===u.teamColor,m=o[n.whosTurn].players.filter((function(e){return i[e]})).map((function(e){return i[e].selectedCell})).reduce((function(e,n){return Object(j.a)({},e,Object(x.a)({},n,(e[n]||0)+1))}),{});return r.a.createElement("div",{className:"room-content"},Object.keys(n.players).length>0&&r.a.createElement(W,null,Object.keys(a).map((function(e){var i=n.players[n.nickname],u=i.isHinter||a[e].showColor;return r.a.createElement(V,Object.assign({indexes:e,disabled:!l&&!s,clickCount:m[e]||0,playersCount:o[n.whosTurn].players.length,teamColor:c,onClick:function(){c===i.teamColor&&t(e)}},a[e],{showColor:u}))}))))},A=t(16);function L(){var e=Object(m.a)(["\n  text-align: center;\n  flex: 1;\n  padding-top: 10px;\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n\n  .settings-item {\n    font-size: 19px;\n  }\n  .qlue {\n    padding: 5px;\n    font-size: 18px;\n  }\n"]);return L=function(){return e},e}var $=d.b.div(L()),D=function(e){var n=e.onValueChange,t=e.value,a=e.text;return e.editMode?r.a.createElement("input",{value:t,onChange:function(e){n(e.currentTarget.value)},type:"text",className:"qlue",placeholder:"Qlue"}):r.a.createElement("h2",null,a)},F=function(e){var n=e.state,t=e.setQlue,c=n.whosTurn,o=n.player,i=n.numberOfWords,l=n.qlue,u=Object(a.useState)(""),s=Object(A.a)(u,2),m=s[0],d=s[1],f=Object(a.useState)(0),p=Object(A.a)(f,2),g=p[0],b=p[1],v=Object(a.useMemo)((function(){if(o&&o.teamColor)return o.isHinter&&c===o.teamColor&&!i}),[c,o,i]);return r.a.createElement($,null,r.a.createElement("div",null,r.a.createElement("div",{className:"settings-item"},"Go ",r.a.createElement("span",{style:{color:c}},c)," team")),o&&r.a.createElement(D,Object.assign({editMode:v,text:l,value:m,onValueChange:d},n)),o&&r.a.createElement(D,Object.assign({editMode:v,text:i,value:g,onValueChange:b},n)),!i&&v&&r.a.createElement("button",{onClick:function(){t(m,g)}},"submit"))};function K(){var e=Object(m.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  background-color: ",";\n  .room-content {\n    align-items: center;\n    flex: 5;\n    display: flex;\n    flex-direction: column;\n    .game-title {\n      font-size: 29px;\n      width: 100%;\n      padding-left: 60px;\n      flex-direction: row;\n      display: flex;\n      padding-top: 10px;\n      .qlue {\n        padding: 5px;\n        font-size: 18px;\n      }\n    }\n  }\n"]);return K=function(){return e},e}var X=d.b.div(K(),(function(e){var n=e.teamColor;return n&&"red"===n?"rgba(200,0,0,0.2)":n&&"blue"===n?"rgba(0,0,200,0.2)":"none"})),Y=function(e){var n=e.state,t=n.players,a=void 0===t?[]:t,c=n.board,o=n.player;return r.a.createElement(X,o,r.a.createElement(y,{players:Object.values(a)}),c?r.a.createElement(B,e):r.a.createElement(S,e),r.a.createElement(F,e))};function Z(){var e=Object(m.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  input {\n    padding: 10px;\n    font-size: 22px;\n  }\n  .select-method-buttons {\n    justify-content: space-around;\n    display: flex;\n    button {\n      font-size: 20px;\n      padding: 4px;\n      margin-top: 5px;\n    }\n  }\n"]);return Z=function(){return e},e}var _=d.b.div(Z()),ee=function(e){var n=e.joinGame,t=e.createGame,c=e.state,o=c.gameId,i=c.nickname,l=Object(a.useState)(i),u=Object(A.a)(l,2),s=u[0],m=u[1];return r.a.createElement(_,null,r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"Nick Name"),r.a.createElement("input",{type:"text",placeholder:"Select Nickname",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("div",{className:"select-method-buttons"},r.a.createElement("button",{onClick:function(){s&&t(s)}},"CREATE"),r.a.createElement("button",{onClick:function(){s&&n(o,s)}},"JOIN"))))},ne=t(11),te=t.n(ne),ae=t(17),re=t(73),ce=t.n(re),oe=t(74),ie=Object(oe.a)(),le={cellsMap:{}},ue=function(e,n){var t=n.type,a=n.payload;switch(t){case"selectCard":var r=a.cellIndexes;return Object(j.a)({},e,Object(x.a)({},r,Object(j.a)({},e[r],{marked:!0})));case"gameUpdate":var c=a.nickname,o=void 0===c?"":c,i=a.game,l=i.players[o];return Object(j.a)({},e,{},i,{player:l});case"setGame":var u=(a||{game:le}).game;return Object(j.a)({},e,{},u);case"createGame":var s=a.newGameId;return Object(j.a)({},le,{gameId:s});default:return e}},se=ce()(u);se.connect();var me=function(e){return console.log(e)},de=function(){var e=ie.location.pathname.split("/"),n=e[e.length-1],t=Object(a.useReducer)(ue,Object(j.a)({},le)),r=Object(A.a)(t,2),c=r[0],o=r[1],i=Object(a.useState)(null),l=Object(A.a)(i,2),u=l[0],m=l[1];Object(a.useEffect)((function(){u&&function(e,n){se.on("gameChange",(function(t){console.log("game",t),ie.push("/code-names/".concat(t.gameId)),e({type:"gameUpdate",payload:{game:t,nickname:n}})}))}(o,u),function(){var e=Object(ae.a)(te.a.mark((function e(n,t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"games"!=n&&t!==n&&f(n);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()(n,c.gameId)}),[n,c.gameId,u]);var d=function(){var e=Object(ae.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(n),se.emit("createGame",{nickname:n},me);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(ae.a)(te.a.mark((function e(n){var t,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/games/".concat(n));case 2:t=e.sent,a=t.data,o({type:"setGame",payload:{game:a}});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=Object(ae.a)(te.a.mark((function e(n){var t,a,r=arguments;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>1&&void 0!==r[1]?r[1]:"guesser",a=c.gameId,se.emit("chooseTeam",{gameId:a,nickname:u,teamColor:n,role:t});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g={setQlue:function(e,n){var t=c.gameId;se.emit("setQlue",{qlue:e,numberOfWords:n,gameId:t})},getGame:f,joinGame:function(){var e=Object(ae.a)(te.a.mark((function e(n,t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:se.emit("joinGame",{nickname:t,gameId:n},me);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),chooseTeam:p,leaveGame:function(){m(""),se.disconnect()},createGame:d,startGame:function(){se.emit("startGame",{gameId:c.gameId},me)},cellSelected:function(){var e=Object(ae.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.emit("cellSelected",{gameId:c.gameId,nickname:u,cellIndexes:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),togglePlayerReady:function(e){var n=c.gameId;se.emit("togglePlayerReady",{gameId:n,nickname:e})}};return Object(j.a)({state:Object(j.a)({},c,{nickname:u}),history:ie},g)},fe=function(){var e=de(),n=e.state,t=n.nickname,a=n.gameId;return console.log(e.state),a&&t?r.a.createElement(Y,e):r.a.createElement(ee,e)};var pe=function(){return r.a.createElement(fe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,n,t){e.exports=t(140)},82:function(e,n,t){},83:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[77,1,2]]]);
//# sourceMappingURL=main.bff4c0d4.chunk.js.map