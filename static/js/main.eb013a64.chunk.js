(this["webpackJsonpcode-names"]=this["webpackJsonpcode-names"]||[]).push([[0],{103:function(e,n,t){},139:function(e,n){},143:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(20),o=t.n(c),i=(t(85),t(86),t(70)),l=t.n(i),u=("http://localhost:".concat(3e3),"https://tranquil-ocean-97712.herokuapp.com/"),s=l.a.create({baseURL:u}),m=(t(103),t(3)),d=t(4),f=t(16),p=t(71),g=t.n(p),b=function(e){var n=e.board,t=e.nickname,a=e.isReady,c=e.selectedCell;Object(f.a)(e,["board","nickname","isReady","selectedCell"]);return r.a.createElement("div",{className:"player"},r.a.createElement("div",{className:"player-name"},t),r.a.createElement("div",{className:"player-name"},"".concat(n[c]?"[".concat(n[c].word,"]"):"")),a&&r.a.createElement(g.a,{style:{color:"green"}}))};function v(){var e=Object(m.a)(["\n  flex: 1;\n  border-right: 1px solid rgba(0, 0, 0, 0.2);\n  max-width: 300px;\n  .player {\n    flex-direction: row;\n    display: flex;\n    line-height: 1.4rem;\n    padding: 10px;\n  }\n  .player-name {\n    flex: 1;\n  }\n  h1 {\n    text-align: center;\n  }\n"]);return v=function(){return e},e}var h=d.b.div(v()),x=function(e){var n=e.players,t=e.board,a=void 0===t?{}:t;return r.a.createElement(h,null,r.a.createElement("h1",null,"Players"),n.map((function(e){return r.a.createElement(b,Object.assign({},e,{board:a}))})))},y=t(15),j=t(8),O=t(162),E=t(163);t(109);function k(){var e=Object(m.a)(["\n        opacity: 0.7;\n        pointer-events: none;\n      "]);return k=function(){return e},e}function w(){var e=Object(m.a)(["\n  width: 200px;\n  height: 100px;\n  border: 1px solid;\n  flex-direction: column;\n  display: flex;\n  margin: 5px;\n  text-align: center;\n  align-items: center;\n\n  button {\n    padding: 10px;\n    font-size: 20px;\n    ",";\n  }\n"]);return w=function(){return e},e}var C=d.b.div(w(),(function(e){return!e.readyToStart&&Object(d.a)(k())})),I=function(e){var n=e.teamColor,t=e.isReady,c=e.toggleReady,o=e.startGame,i=e.game,l=Object(f.a)(e,["teamColor","isReady","toggleReady","startGame","game"]),u=Object(a.useMemo)((function(){var e=i.players;return 0===Object.values(e).filter((function(e){return!e.isReady})).length}),[i.players]),s=(Object(a.useMemo)((function(){var e=i.players,n=i.teams,t=Object.keys(n).reduce((function(e,n){return Object(j.a)({},e,Object(y.a)({},n,!1))}),{});return Object.values(e).forEach((function(e){e.teamColor&&e.isHinter&&(t[e.teamColor]=!0)})),Object.values(t).reduce((function(e,n){return e&&n}),!0)}),[i.players,i.teams]),Object(a.useMemo)((function(){i.players;var e=i.teams;return Object.keys(e).reduce((function(n,t){return n&&e[t].players.length>0}),!0)}),[i.players]),u);return r.a.createElement(C,{readyToStart:s},r.a.createElement(E.a,{control:r.a.createElement(O.a,{checked:t,disabled:!n,onChange:function(){c(l.nickname)}}),label:"Ready"}),r.a.createElement("button",{onClick:function(){console.log("start game"),o&&o()}},"start"))};function N(){var e=Object(m.a)(["\n  width: 60%;\n  height: 400px;\n  border: 1px solid black;\n  display: flex;\n  flex-direction: row;\n  div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  .red-team {\n    background-color: rgba(100, 0, 0, 0.5);\n  }\n  .blue-team {\n    background-color: rgba(0, 0, 100, 0.5);\n  }\n\n  .guesser {\n    flex: 2;\n    position: relative;\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.2);\n      cursor: pointer;\n    }\n  }\n  .hinter {\n    flex: 1;\n    position: relative;\n    background-color: rgba(0, 0, 0, 0.2);\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.1);\n      cursor: pointer;\n    }\n  }\n"]);return N=function(){return e},e}var G=d.b.div(N()),S=function(e){var n=e.title;Object(f.a)(e,["title"]);return r.a.createElement("div",{className:"bg-title"},n)},R=function(e){var n=e.chooseTeam,t=e.state,c=e.togglePlayerReady,o=e.startGame,i=(e.leaveGame,t.players),l=t.nickname,u=i[l],s=Object(a.useMemo)((function(){return Object.values(i).filter((function(e){return e.teamColor})).reduce((function(e,n){return e[n.teamColor][n.isHinter?"hinters":"guessers"].push(n.nickname),e}),{red:{hinters:[],guessers:[]},blue:{hinters:[],guessers:[]}})}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null,r.a.createElement("div",{className:"blue-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("blue","guesser")}},r.a.createElement(S,{title:"GUESSERS"}),s.blue.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("blue","hinter")}},r.a.createElement(S,{title:"HINTERS"}),s.blue.hinters.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("div",{className:"red-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("red","guesser")}},r.a.createElement(S,{title:"GUESSERS"}),s.red.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("red","hinter")}},r.a.createElement(S,{title:"HINTERS"}),s.red.hinters.map((function(e){return r.a.createElement("div",null,e)}))))),r.a.createElement(I,Object.assign({},u,{game:t,toggleReady:c,startGame:o})))};function T(){var e=Object(m.a)(["\n      background-color: ",";\n      width: ","%;\n    "]);return T=function(){return e},e}function M(){var e=Object(m.a)(["\n  position: relative;\n  height: 100%;\n  ","\n"]);return M=function(){return e},e}function z(){var e=Object(m.a)(["\n  position: relative;\n  width: 60%;\n  height: 25px;\n  background-color: white;\n  border: 1px solid;\n  .word {\n    position: absolute;\n    z-index: 1;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n  }\n"]);return z=function(){return e},e}function q(){var e=Object(m.a)(["\n        pointer-events: hover;\n      "]);return q=function(){return e},e}function H(){var e=Object(m.a)(["\n  background-color: ",";\n  width: 18%;\n  height: 80px;\n  border-radius: 14px;\n  border: solid thin;\n  flex-direction: column;\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ","\n  &:hover {\n    cursor: pointer;\n    background-color: lightgrey;\n  }\n"]);return H=function(){return e},e}var U=d.b.div(H(),(function(e){var n=e.showColor,t=e.color;return n?t:"rgba(0,0,0,0.2)"}),(function(e){return e.disabled&&Object(d.a)(q())})),W=d.b.div(z()),P=d.b.div(M(),(function(e){var n=e.teamColor,t=e.flipTeam,a=e.clickCount,r=e.playersCount,c="white",o=100;return t?c=t:a>0&&(c=n,o=Math.round(a/r*100)),Object(d.a)(T(),c,o)})),Q=function(e){var n=e.indexes,t=e.onClick,a=e.teamColor,c=e.word,o=Object(f.a)(e,["indexes","onClick","teamColor","word"]);return r.a.createElement(U,Object.assign({key:n},o,{onClick:t}),r.a.createElement(W,o,r.a.createElement("div",{className:"word"},c),r.a.createElement(P,Object.assign({teamColor:a},o))))};function J(){var e=Object(m.a)(["\n  display: block;\n  width: 1200px;\n  height: 550px;\n  flex-wrap: wrap;\n  flex-direction: row;\n  display: flex;\n  justify-content: center;\n"]);return J=function(){return e},e}var V=d.b.div(J()),B=function(e){var n=e.state,t=e.cellSelected,a=n.board,c=n.whosTurn,o=n.teams,i=n.players,l=n.numberOfWords,u=n.player;if(!u||!u.nickname)return null;var s=c===u.teamColor,m=o[n.whosTurn].players.filter((function(e){return i[e]})).map((function(e){return i[e].selectedCell})).reduce((function(e,n){return Object(j.a)({},e,Object(y.a)({},n,(e[n]||0)+1))}),{});return r.a.createElement("div",{className:"room-content"},Object.keys(n.players).length>0&&r.a.createElement(V,null,Object.keys(a).map((function(e){var i=n.players[n.nickname],u=i.isHinter||a[e].showColor;return r.a.createElement(Q,Object.assign({indexes:e,disabled:!l&&!s,clickCount:m[e]||0,playersCount:o[n.whosTurn].players.length,teamColor:c,onClick:function(){c===i.teamColor&&t(e)}},a[e],{showColor:u}))}))))},D=t(13);function A(){var e=Object(m.a)(["\n  text-align: center;\n  flex: 2;\n  padding-top: 10px;\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .settings-item {\n    font-size: 19px;\n  }\n  .qlue {\n    padding: 5px;\n    font-size: 18px;\n  }\n"]);return A=function(){return e},e}var F=d.b.div(A()),L=function(e){var n=e.onValueChange,t=e.value,a=e.text;return e.editMode?r.a.createElement("input",{value:t,onChange:function(e){n(e.currentTarget.value)},type:"text",className:"qlue",placeholder:"Qlue"}):r.a.createElement("h2",null,a)},$=function(e){var n=e.state,t=e.setQlue,c=n.whosTurn,o=n.player,i=n.numberOfWords,l=n.qlue,u=Object(a.useState)(""),s=Object(D.a)(u,2),m=s[0],d=s[1],f=Object(a.useState)(0),p=Object(D.a)(f,2),g=p[0],b=p[1],v=Object(a.useMemo)((function(){if(o&&o.teamColor)return o.isHinter&&c===o.teamColor&&!i}),[c,o,i]);return r.a.createElement(F,null,r.a.createElement("div",null,r.a.createElement("div",{className:"settings-item"},"Go ",r.a.createElement("span",{style:{color:c}},c)," team")),o&&r.a.createElement(L,Object.assign({editMode:v,text:l,value:m,onValueChange:d},n)),o&&r.a.createElement(L,Object.assign({editMode:v,text:i,value:g,onValueChange:b},n)),!i&&v&&r.a.createElement("button",{onClick:function(){t(m,g)}},"submit"))},K=t(77),X=t(75),Y=t.n(X)()(u);function Z(){var e=Object(m.a)(["\n  padding: 5px;\n"]);return Z=function(){return e},e}function _(){var e=Object(m.a)(["\n  width: 80%;\n  max-height: 300px;\n  height: 300px;\n  overflow-y: auto;\n  margin: 10px;\n  border-style: inset;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n\n  .messages {\n    flex: 1;\n  }\n  input {\n    flex: 1;\n    padding: 5px;\n  }\n  form {\n    width: 100%;\n\n    flex-direction: row;\n    position: relative;\n    display: flex;\n    font-size: 15px;\n  }\n  .send-btn {\n    color: white;\n    background-color: blue;\n    padding: 5px;\n  }\n"]);return _=function(){return e},e}Y.connect();var ee=d.b.div(_()),ne=d.b.div(Z()),te=function(e){var n=e.nickname,t=e.gameId,c=Object(a.useState)(""),o=Object(D.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)([]),s=Object(D.a)(u,2),m=s[0],d=s[1];Object(a.useEffect)((function(){Y.on("message",(function(e){var n=e.nickname,t=e.message;d([].concat(Object(K.a)(m),[{nickname:n,message:t}]))}))}),[m]);var f=Object(a.useCallback)((function(e){Y.emit("sendMessage",{nickname:n,message:i,gameId:t},(function(e){e?console.log(e):console.log("messege sent")})),l(""),e.preventDefault()}),[i,n,t]);return r.a.createElement(ee,null,r.a.createElement("div",{className:"messages"},m.map((function(e){var n=e.nickname,t=e.message;return r.a.createElement(ne,{key:n+t},"".concat(n," : ").concat(t))}))),r.a.createElement("form",{className:"messages-text"},r.a.createElement("input",{value:i,type:"text",onChange:function(e){e.target.focus(),l(e.target.value)}}),r.a.createElement("button",{onClick:f,class:"send-btn"},"SEND")))};function ae(){var e=Object(m.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  background-color: ",";\n  .room-content {\n    align-items: center;\n    flex: 5;\n    display: flex;\n    flex-direction: column;\n    .game-title {\n      font-size: 29px;\n      width: 100%;\n      padding-left: 60px;\n      flex-direction: row;\n      display: flex;\n      padding-top: 10px;\n      .qlue {\n        padding: 5px;\n        font-size: 18px;\n      }\n    }\n  }\n"]);return ae=function(){return e},e}var re=d.b.div(ae(),(function(e){var n=e.teamColor;return n&&"red"===n?"rgba(200,0,0,0.2)":n&&"blue"===n?"rgba(0,0,200,0.2)":"none"})),ce=function(e){var n=e.state,t=n.players,a=void 0===t?[]:t,c=n.board,o=n.player;return r.a.createElement(re,o,r.a.createElement(x,{players:Object.values(a),board:c}),r.a.createElement("div",{className:"room-content"},c?r.a.createElement(B,e):r.a.createElement(R,e),r.a.createElement(te,{nickname:e.state.nickname,gameId:e.state.gameId})),r.a.createElement($,e))};function oe(){var e=Object(m.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  input {\n    padding: 10px;\n    font-size: 22px;\n  }\n  .select-method-buttons {\n    justify-content: space-around;\n    display: flex;\n    button {\n      font-size: 20px;\n      padding: 4px;\n      margin-top: 5px;\n    }\n  }\n"]);return oe=function(){return e},e}var ie=d.b.div(oe()),le=function(e){var n=e.joinGame,t=e.createGame,c=e.state,o=c.gameId,i=c.nickname,l=Object(a.useState)(i),u=Object(D.a)(l,2),s=u[0],m=u[1];return r.a.createElement(ie,null,r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"Nick Name"),r.a.createElement("input",{type:"text",placeholder:"Select Nickname",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("div",{className:"select-method-buttons"},r.a.createElement("button",{onClick:function(){s&&t(s)}},"CREATE"),r.a.createElement("button",{onClick:function(){s&&n(o,s)}},"JOIN"))))},ue=t(11),se=t.n(ue),me=t(17),de=t(76),fe=Object(de.a)(),pe={cellsMap:{}},ge=function(e,n){var t=n.type,a=n.payload;switch(t){case"selectCard":var r=a.cellIndexes;return Object(j.a)({},e,Object(y.a)({},r,Object(j.a)({},e[r],{marked:!0})));case"gameUpdate":var c=a.nickname,o=void 0===c?"":c,i=a.game,l=i.players[o];return Object(j.a)({},e,{},i,{player:l});case"setGame":var u=(a||{game:pe}).game;return Object(j.a)({},e,{},u);case"createGame":var s=a.newGameId;return Object(j.a)({},pe,{gameId:s});default:return e}},be=function(e){return console.log(e)},ve=function(){var e=fe.location.search.replace("?","").split("&").map((function(e){return e.split("=")})).reduce((function(e,n){return Object(j.a)({},e,Object(y.a)({},n[0],n[1]))}),{}).gameId,n=Object(a.useReducer)(ge,Object(j.a)({},pe)),t=Object(D.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)(null),i=Object(D.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)((function(){l&&function(e,n){Y.on("gameChange",(function(t){console.log("game",t),fe.push("/code-names".concat(t.gameId?"?gameId=".concat(t.gameId):"")),console.log(fe),e({type:"gameUpdate",payload:{game:t,nickname:n}})}))}(c,l),function(){var e=Object(me.a)(se.a.mark((function e(n,t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"games"!=n&&t!==n&&d(n);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()(e,r.gameId)}),[e,r.gameId,l]);var m=function(){var e=Object(me.a)(se.a.mark((function e(n){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(n),Y.emit("createGame",{nickname:n},be);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(me.a)(se.a.mark((function e(n){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/games/".concat(n));case 2:t=e.sent,a=t.data,c({type:"setGame",payload:{game:a}});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(me.a)(se.a.mark((function e(n){var t,a,c=arguments;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:"guesser",a=r.gameId,Y.emit("chooseTeam",{gameId:a,nickname:l,teamColor:n,role:t});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p={setQlue:function(e,n){var t=r.gameId;Y.emit("setQlue",{qlue:e,numberOfWords:n,gameId:t})},getGame:d,joinGame:function(){var e=Object(me.a)(se.a.mark((function e(n,t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:Y.emit("joinGame",{nickname:t,gameId:n},be);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),chooseTeam:f,leaveGame:function(){u(""),Y.disconnect()},createGame:m,startGame:function(){Y.emit("startGame",{gameId:r.gameId},be)},cellSelected:function(){var e=Object(me.a)(se.a.mark((function e(n){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.emit("cellSelected",{gameId:r.gameId,nickname:l,cellIndexes:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),togglePlayerReady:function(e){var n=r.gameId;Y.emit("togglePlayerReady",{gameId:n,nickname:e})}};return Object(j.a)({state:Object(j.a)({},r,{nickname:l}),history:fe},p)},he=function(){var e=ve(),n=e.state,t=n.nickname,a=n.gameId;return console.log(e.state),a&&t?r.a.createElement(ce,e):r.a.createElement(le,e)};var xe=function(){return r.a.createElement(he,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,n,t){e.exports=t(143)},85:function(e,n,t){},86:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[80,1,2]]]);
//# sourceMappingURL=main.eb013a64.chunk.js.map