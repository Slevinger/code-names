(this["webpackJsonpcode-names"]=this["webpackJsonpcode-names"]||[]).push([[0],{105:function(e,n,t){},140:function(e,n){},144:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(20),o=t.n(c),i=(t(87),t(88),t(71)),l=t.n(i),u=("http://localhost:".concat(3e3),"https://tranquil-ocean-97712.herokuapp.com/"),s=l.a.create({baseURL:u}),m=(t(105),t(3)),d=t(4),f=t(16),p=t(73),g=t.n(p),b=t(72),v=t.n(b),h=function(e){var n=e.board,t=e.nickname,a=e.isReady,c=e.selectedCell,o=e.teamColor;Object(f.a)(e,["board","nickname","isReady","selectedCell","teamColor"]);return r.a.createElement("div",{className:"player"},r.a.createElement(v.a,{style:{color:o}}),r.a.createElement("div",{className:"player-name"},t),r.a.createElement("div",{className:"player-name"},"".concat(n[c]?"[".concat(n[c].word,"]"):"")),a&&r.a.createElement(g.a,{style:{color:"green"}}))};function x(){var e=Object(m.a)(["\n  flex: 1;\n  border-right: 1px solid rgba(0, 0, 0, 0.2);\n  max-width: 300px;\n  .player {\n    flex-direction: row;\n    display: flex;\n    line-height: 1.4rem;\n    padding: 10px;\n  }\n  .player-name {\n    flex: 1;\n    margin-left: 10px;\n    line-height: 24px;\n  }\n  h1 {\n    text-align: center;\n  }\n"]);return x=function(){return e},e}var y=d.b.div(x()),j=function(e){var n=e.players,t=e.board,a=void 0===t?{}:t;return r.a.createElement(y,null,r.a.createElement("h1",null,"Players"),n.map((function(e){return r.a.createElement(h,Object.assign({},e,{board:a}))})))},O=t(15),E=t(8),k=t(163),w=t(164);t(110);function C(){var e=Object(m.a)(["\n        opacity: 0.7;\n        pointer-events: none;\n      "]);return C=function(){return e},e}function I(){var e=Object(m.a)(["\n  width: 200px;\n  height: 100px;\n  border: 1px solid;\n  flex-direction: column;\n  display: flex;\n  margin: 5px;\n  text-align: center;\n  align-items: center;\n\n  button {\n    padding: 10px;\n    font-size: 20px;\n    ",";\n  }\n"]);return I=function(){return e},e}var N=d.b.div(I(),(function(e){return!e.readyToStart&&Object(d.a)(C())})),G=function(e){var n=e.teamColor,t=e.isReady,c=e.toggleReady,o=e.startGame,i=e.game,l=Object(f.a)(e,["teamColor","isReady","toggleReady","startGame","game"]),u=Object(a.useMemo)((function(){var e=i.players;return 0===Object.values(e).filter((function(e){return!e.isReady})).length}),[i.players]),s=(Object(a.useMemo)((function(){var e=i.players,n=i.teams,t=Object.keys(n).reduce((function(e,n){return Object(E.a)({},e,Object(O.a)({},n,!1))}),{});return Object.values(e).forEach((function(e){e.teamColor&&e.isHinter&&(t[e.teamColor]=!0)})),Object.values(t).reduce((function(e,n){return e&&n}),!0)}),[i.players,i.teams]),Object(a.useMemo)((function(){i.players;var e=i.teams;return Object.keys(e).reduce((function(n,t){return n&&e[t].players.length>0}),!0)}),[i.players]),u);return r.a.createElement(N,{readyToStart:s},r.a.createElement(w.a,{control:r.a.createElement(k.a,{checked:t,disabled:!n,onChange:function(){c(l.nickname)}}),label:"Ready"}),r.a.createElement("button",{onClick:function(){console.log("start game"),o&&o()}},"start"))};function R(){var e=Object(m.a)(["\n  width: 60%;\n  height: 400px;\n  border: 1px solid black;\n  display: flex;\n  flex-direction: row;\n  div {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  .red-team {\n    background-color: rgba(100, 0, 0, 0.5);\n  }\n  .blue-team {\n    background-color: rgba(0, 0, 100, 0.5);\n  }\n\n  .guesser {\n    flex: 2;\n    position: relative;\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.2);\n      cursor: pointer;\n    }\n  }\n  .hinter {\n    flex: 1;\n    position: relative;\n    background-color: rgba(0, 0, 0, 0.2);\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.1);\n      cursor: pointer;\n    }\n  }\n"]);return R=function(){return e},e}var S=d.b.div(R()),T=function(e){var n=e.title;Object(f.a)(e,["title"]);return r.a.createElement("div",{className:"bg-title"},n)},M=function(e){var n=e.chooseTeam,t=e.state,c=e.togglePlayerReady,o=e.startGame,i=(e.leaveGame,t.players),l=t.nickname,u=i[l],s=Object(a.useMemo)((function(){return Object.values(i).filter((function(e){return e.teamColor})).reduce((function(e,n){return e[n.teamColor][n.isHinter?"hinters":"guessers"].push(n.nickname),e}),{red:{hinters:[],guessers:[]},blue:{hinters:[],guessers:[]}})}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,r.a.createElement("div",{className:"blue-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("blue","guesser")}},r.a.createElement(T,{title:"GUESSERS"}),s.blue.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("blue","hinter")}},r.a.createElement(T,{title:"HINTERS"}),s.blue.hinters.map((function(e){return r.a.createElement("div",null,e)})))),r.a.createElement("div",{className:"red-team"},r.a.createElement("div",{className:"guesser",onClick:function(){n("red","guesser")}},r.a.createElement(T,{title:"GUESSERS"}),s.red.guessers.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("div",{className:"hinter",onClick:function(){n("red","hinter")}},r.a.createElement(T,{title:"HINTERS"}),s.red.hinters.map((function(e){return r.a.createElement("div",null,e)}))))),r.a.createElement(G,Object.assign({},u,{game:t,toggleReady:c,startGame:o})))};function z(){var e=Object(m.a)(["\n      background-color: ",";\n      width: ","%;\n    "]);return z=function(){return e},e}function H(){var e=Object(m.a)(["\n  position: relative;\n  height: 100%;\n  ","\n"]);return H=function(){return e},e}function J(){var e=Object(m.a)(["\n  position: relative;\n  width: 60%;\n  height: 25px;\n  background-color: white;\n  border: 1px solid;\n  .word {\n    position: absolute;\n    z-index: 1;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n  }\n"]);return J=function(){return e},e}function U(){var e=Object(m.a)(["\n        pointer-events: hover;\n      "]);return U=function(){return e},e}function W(){var e=Object(m.a)(["\n  background-color: ",";\n  width: 17%;\n  height: 80px;\n  border-radius: 14px;\n  border: solid thin;\n  flex-direction: column;\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ","\n  &:hover {\n    cursor: pointer;\n    background-color: lightgrey;\n  }\n"]);return W=function(){return e},e}var P=d.b.div(W(),(function(e){var n=e.showColor,t=e.color;return n?t:"rgba(0,0,0,0.2)"}),(function(e){return e.disabled&&Object(d.a)(U())})),V=d.b.div(J()),B=d.b.div(H(),(function(e){var n=e.teamColor,t=e.flipTeam,a=e.clickCount,r=e.playersCount,c="white",o=100;return t?c=t:a>0&&(c=n,o=Math.round(a/r*100)),Object(d.a)(z(),c,o)})),D=function(e){var n=e.indexes,t=e.onClick,a=e.teamColor,c=e.word,o=Object(f.a)(e,["indexes","onClick","teamColor","word"]);return r.a.createElement(P,Object.assign({key:n},o,{onClick:t}),r.a.createElement(V,o,r.a.createElement("div",{className:"word"},c),r.a.createElement(B,Object.assign({teamColor:a},o))))};function _(){var e=Object(m.a)(["\n  display: block;\n  width: 900px;\n  height: 550px;\n  flex-wrap: wrap;\n  flex-direction: row;\n  display: flex;\n  justify-content: center;\n"]);return _=function(){return e},e}var q=d.b.div(_()),A=function(e){var n=e.state,t=e.cellSelected,a=n.board,c=n.whosTurn,o=n.teams,i=n.players,l=n.numberOfWords,u=n.player;if(!u||!u.nickname)return null;var s=c===u.teamColor,m=o[n.whosTurn].players.filter((function(e){return i[e]})).map((function(e){return i[e].selectedCell})).reduce((function(e,n){return Object(E.a)({},e,Object(O.a)({},n,(e[n]||0)+1))}),{});return r.a.createElement("div",{className:"room-content"},Object.keys(n.players).length>0&&r.a.createElement(q,null,Object.keys(a).map((function(e){var i=n.players[n.nickname],u=i.isHinter||a[e].showColor;return r.a.createElement(D,Object.assign({indexes:e,disabled:!l&&!s,clickCount:m[e]||0,playersCount:o[n.whosTurn].players.length,teamColor:c,onClick:function(){c===i.teamColor&&t(e)}},a[e],{showColor:u}))}))))},F=t(13);function L(){var e=Object(m.a)(["\n      ","\n    "]);return L=function(){return e},e}function Y(){var e=Object(m.a)(["\n  height: 30px;\n  background-color: ",";\n  border: solid thin;\n  color: ",";\n  padding: 5px 20px;\n  display: inline-flex;\n  align-items: center;\n  border: none;\n  margin: 5px;\n  font-size: 16px;\n  font-weight: 700;\n  border-radius: 7px;\n  box-shadow: 1px 2px 5px black;\n  ","\n  &:hover {\n    cursor: pointer;\n    transform: translateY(-4px);\n    box-shadow: 1px 2px 9px black;\n  }\n"]);return Y=function(){return e},e}var $=d.b.div(Y(),(function(e){return e.bgColor||"#2f78b9"}),(function(e){return e.color||"white"}),(function(e){var n=e.style;return Object(d.a)(L(),n)})),K=t(79),Q=t(77),X=t.n(Q)()(u);function Z(){var e=Object(m.a)(["\n  padding: 5px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(m.a)(["\n  width: 80%;\n  max-height: 300px;\n  height: 300px;\n  overflow-y: hidden;\n  margin: 10px;\n  border-style: inset;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n\n  .messages {\n    flex: 1;\n    overflow-y: scroll;\n  }\n  input {\n    flex: 1;\n    padding: 5px;\n  }\n  form {\n    width: 100%;\n\n    flex-direction: row;\n    position: relative;\n    display: flex;\n    font-size: 15px;\n  }\n  .send-btn {\n    color: white;\n    background-color: blue;\n    padding: 5px;\n  }\n"]);return ee=function(){return e},e}X.connect();var ne=d.b.div(ee()),te=d.b.div(Z()),ae=function(e,n){var t=n.type,a=n.payload;switch(t){case"add_message":var r=a.nickname,c=a.message;return[].concat(Object(K.a)(e),[{nickname:r,message:c}]);default:return e}},re=function(e){var n=e.nickname,t=e.gameId,c=Object(a.useReducer)(ae,[]),o=Object(F.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(""),s=Object(F.a)(u,2),m=s[0],d=s[1],f=Object(a.useState)(!1),p=Object(F.a)(f,2),g=p[0],b=p[1],v=Object(a.useRef)(null);Object(a.useEffect)((function(){g||(X.on("message",(function(e){var n=e.nickname,t=e.message;l({type:"add_message",payload:{nickname:n,message:t}})})),b(!0))}),[l,i]);Object(a.useEffect)((function(){v.current.scrollIntoView({behavior:"smooth"})}),[i]);var h=Object(a.useCallback)((function(e){X.emit("sendMessage",{nickname:n,message:m,gameId:t},(function(e){e?console.log(e):console.log("messege sent")})),d(""),e.preventDefault()}),[m,n,t]);return r.a.createElement(ne,null,r.a.createElement("div",{className:"messages"},i.map((function(e){var n=e.nickname,t=e.message;return r.a.createElement(te,{key:n+t},"".concat(n," : ").concat(t))})),r.a.createElement("div",{ref:v})),r.a.createElement("div",null,r.a.createElement("form",{className:"messages-text"},r.a.createElement("input",{value:m,type:"text",onChange:function(e){e.target.focus(),d(e.target.value)}}),r.a.createElement("button",{onClick:h,class:"send-btn"},"SEND"))))};function ce(){var e=Object(m.a)(["\n  text-align: center;\n  flex: 2;\n  padding-top: 10px;\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .settings-item {\n    font-size: 19px;\n  }\n  .clue {\n    padding: 5px;\n    font-size: 18px;\n  }\n"]);return ce=function(){return e},e}var oe=d.b.div(ce()),ie=function(e){var n=e.onValueChange,t=e.value,a=e.text;return e.editMode?r.a.createElement("input",{value:t,onChange:function(e){n(e.currentTarget.value)},type:"text",className:"clue",placeholder:"Clue"}):r.a.createElement("h2",null,a)},le=function(e){var n=e.state,t=e.setClue,c=e.chooseTeam,o=n.whosTurn,i=n.player,l=n.numberOfWords,u=n.clue,s=Object(a.useState)(""),m=Object(F.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(0),g=Object(F.a)(p,2),b=g[0],v=g[1],h=Object(a.useMemo)((function(){if(i&&i.teamColor)return i.isHinter&&o===i.teamColor&&!l}),[o,i,l]);return r.a.createElement(oe,null,r.a.createElement("div",null,r.a.createElement("div",{className:"settings-item"},"Go ",r.a.createElement("span",{style:{color:o}},o)," team")),r.a.createElement("div",null,r.a.createElement($,{onClick:function(){c("red",i.isHinter?"hinter":"guesser")},bgColor:"rgba(244,100,100,0.4)"},"Join Red Team"),r.a.createElement($,{onClick:function(){c("blue",i.isHinter?"hinter":"guesser")},bgColor:"rgba(100,100,244,0.4)"},"Join Blue Team")),i&&r.a.createElement(ie,Object.assign({editMode:h,text:u,value:d,onValueChange:f},n)),i&&r.a.createElement(ie,Object.assign({editMode:h,text:l,value:b,onValueChange:v},n)),!l&&h&&r.a.createElement("button",{onClick:function(){t(d,b)}},"submit"),r.a.createElement(re,{nickname:n.nickname,gameId:n.gameId}))};function ue(){var e=Object(m.a)(["\n  display: flex;\n  height: 100vh;\n  background-color: ",";\n  .room-content {\n    align-items: center;\n    flex: 5;\n    display: flex;\n    flex-direction: column;\n    .game-title {\n      font-size: 29px;\n      width: 100%;\n      padding-left: 60px;\n      flex-direction: row;\n      display: flex;\n      padding-top: 10px;\n      .clue {\n        padding: 5px;\n        font-size: 18px;\n      }\n    }\n  }\n"]);return ue=function(){return e},e}var se=d.b.div(ue(),(function(e){var n=e.teamColor;return n&&"red"===n?"rgba(200,0,0,0.2)":n&&"blue"===n?"rgba(0,0,200,0.2)":"none"})),me=function(e){var n=e.state,t=n.players,a=void 0===t?[]:t,c=n.board,o=n.player;return r.a.createElement(se,o,r.a.createElement(j,{players:Object.values(a),board:c}),r.a.createElement("div",{className:"room-content"},c?r.a.createElement(A,e):r.a.createElement(M,e)),r.a.createElement(le,e))};function de(){var e=Object(m.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  input {\n    padding: 10px;\n    font-size: 22px;\n  }\n  .select-method-buttons {\n    justify-content: space-around;\n    display: flex;\n    button {\n      font-size: 20px;\n      padding: 4px;\n      margin-top: 5px;\n    }\n  }\n"]);return de=function(){return e},e}var fe=d.b.div(de()),pe=function(e){var n=e.joinGame,t=e.createGame,c=e.state,o=c.gameId,i=c.nickname,l=Object(a.useState)(i),u=Object(F.a)(l,2),s=u[0],m=u[1];return r.a.createElement(fe,null,r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"Nick Name"),r.a.createElement("input",{type:"text",placeholder:"Select Nickname",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("div",{className:"select-method-buttons"},r.a.createElement("button",{onClick:function(){s&&t(s)}},"CREATE"),r.a.createElement("button",{onClick:function(){s&&n(o,s)}},"JOIN"))))},ge=t(11),be=t.n(ge),ve=t(17),he=t(78),xe=Object(he.a)(),ye={cellsMap:{}},je=function(e,n){var t=n.type,a=n.payload;switch(t){case"selectCard":var r=a.cellIndexes;return Object(E.a)({},e,Object(O.a)({},r,Object(E.a)({},e[r],{marked:!0})));case"gameUpdate":var c=a.nickname,o=void 0===c?"":c,i=a.game,l=i.players[o];return Object(E.a)({},e,{},i,{player:l});case"setGame":var u=(a||{game:ye}).game;return Object(E.a)({},e,{},u);case"createGame":var s=a.newGameId;return Object(E.a)({},ye,{gameId:s});default:return e}},Oe=function(e){return console.log(e)},Ee=function(){var e=xe.location.search.replace("?","").split("&").map((function(e){return e.split("=")})).reduce((function(e,n){return Object(E.a)({},e,Object(O.a)({},n[0],n[1]))}),{}).gameId,n=Object(a.useReducer)(je,Object(E.a)({},ye)),t=Object(F.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)(null),i=Object(F.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)((function(){l&&function(e,n){X.on("gameChange",(function(t){console.log("game",t),xe.push("/code-names".concat(t.gameId?"?gameId=".concat(t.gameId):"")),console.log(xe),e({type:"gameUpdate",payload:{game:t,nickname:n}})}))}(c,l),function(){var e=Object(ve.a)(be.a.mark((function e(n,t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"games"!=n&&t!==n&&d(n);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()(e,r.gameId)}),[e,r.gameId,l]);var m=function(){var e=Object(ve.a)(be.a.mark((function e(n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(n),X.emit("createGame",{nickname:n},Oe);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(ve.a)(be.a.mark((function e(n){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/games/".concat(n));case 2:t=e.sent,a=t.data,c({type:"setGame",payload:{game:a}});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(ve.a)(be.a.mark((function e(n){var t,a,c=arguments;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:"guesser",a=r.gameId,X.emit("chooseTeam",{gameId:a,nickname:l,teamColor:n,role:t});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p={setClue:function(e,n){var t=r.gameId;X.emit("setClue",{clue:e,numberOfWords:n,gameId:t})},getGame:d,joinGame:function(){var e=Object(ve.a)(be.a.mark((function e(n,t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:X.emit("joinGame",{nickname:t,gameId:n},Oe);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),chooseTeam:f,leaveGame:function(){u(""),X.disconnect()},createGame:m,startGame:function(){X.emit("startGame",{gameId:r.gameId},Oe)},cellSelected:function(){var e=Object(ve.a)(be.a.mark((function e(n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.emit("cellSelected",{gameId:r.gameId,nickname:l,cellIndexes:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),togglePlayerReady:function(e){var n=r.gameId;X.emit("togglePlayerReady",{gameId:n,nickname:e})}};return Object(E.a)({state:Object(E.a)({},r,{nickname:l}),history:xe},p)},ke=function(){var e=Ee(),n=e.state,t=n.nickname,a=n.gameId;return console.log(e.state),a&&t?r.a.createElement(me,e):r.a.createElement(pe,e)};var we=function(){return r.a.createElement(ke,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,n,t){e.exports=t(144)},87:function(e,n,t){},88:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[82,1,2]]]);
//# sourceMappingURL=main.2743a497.chunk.js.map